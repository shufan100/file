<!DOCTYPE html>
<html>
<head>
	<title>封装一些基本方法</title>
</head>
<body>

</body>
</html>
<script type="text/javascript">
//数组去重-------------------------------------

	// es3去重
		var arr1s = [
		    {id:1,name:"zhangs",age:18,contact_id:1},
		    {id:2,name:"zhangs",age:18,contact_id:2},
		    {id:3,name:"zhangs",age:18,contact_id:3},
		    {id:4,name:"zhangs",age:4444,contact_id:4},
		    {id:5,name:"zhangs",age:18,contact_id:3},
		    {id:6,name:"zhangs",age:18,contact_id:40},
		    {id:7,name:"zhangs",age:18,contact_id:40}
		];
		var result = [];
		var obj11 = {};
		for(var i =0; i<arr1s.length; i++){
		    if(!obj11[arr1s[i].contact_id]){
		     	result.push(arr1s[i]);
		     	obj11[arr1s[i].contact_id  ] = true;
		   	}
		}
		console.log(result);

	// es6去重 只对单个元素
		var arr14 = ['a', 'a', 30 ,'b', 'b', 'b', 'c', 'e', 'f', 1, 2, 2, 3, 3, 3];
		let setArr14 = [...new Set(arr14)];
		console.log(setArr14)

// 时间格式转化 '-------------------------------------

	function dateFormat(fmt, date) {
	    let ret;
	    const opt = {
	        "Y+": date.getFullYear().toString(),        // 年
	        "m+": (date.getMonth() + 1).toString(),     // 月
	        "d+": date.getDate().toString(),            // 日
	        "H+": date.getHours().toString(),           // 时
	        "M+": date.getMinutes().toString(),         // 分
	        "S+": date.getSeconds().toString()          // 秒
	        // 有其他格式化字符需求可以继续添加，必须转化成字符串
	    };
	    for (let k in opt) {
	        ret = new RegExp("(" + k + ")").exec(fmt);
	        if (ret) {
	            fmt = fmt.replace(ret[1], (ret[1].length == 1) ? (opt[k]) : (opt[k].padStart(ret[1].length, "0")))
	        };
	    };
	    return fmt;
	}
	// dateFormat("YYYY-mm-dd HH:MM", date) //>>> 2020-06-18 11:20`
	setInterval(()=>{
		let date = new Date()
		let newDate = dateFormat("YYYY年mm月dd日 HH时MM分SS秒", date);
		// console.log(newDate)
	},1000)

	//数字数组去重
	function arrHeavy(arr) {
		let list = [];
		arr.forEach(val => {
			if(list.indexOf(val) == -1) {
				list.push(val);
			}
		})
		return list;
	}
	var Arr1 = [{x:11,y:22},{x:1321,y:4222},{x:11,y:22}];
	console.log(arrHeavy(Arr1))

	// 赛选出两数组不一样的坐标
	function point(arr1, arr2) {
		let points = {};
		arr1.forEach(val => {
			let count = 0;
			let endArrName = String(val.x) + String(val.y);

			arr2.forEach(val2 => {
				let oldArrName = String(val2.x) + String(val2.y);
				if(endArrName == oldArrName){
					count++;
				}
			})

			if(count == 0){
				points = val;
			}
		})
		return points;
	}
	var Arr2 = [{x:11,y:22},{x:1321,y:4222},{x:33,y:22}];
	var Arr3 = [{x:'sa',y:'fa'},{x:1321,y:4222},{x:33,y:22}];
	console.log(point(Arr2,Arr3)) //{x:11,y:22}







</script>