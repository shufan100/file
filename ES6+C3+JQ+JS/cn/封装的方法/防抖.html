<!DOCTYPE html>
<html>
  <head>
    <title>防抖</title>
  </head>
  <style>
    #container {
      width: 100%;
      height: 200px;
      line-height: 200px;
      text-align: center;
      color: #fff;
      background-color: #444;
      font-size: 30px;
    }
  </style>
  <body>
    <div id="container"></div>
    <button id="button">btn</button>
    <p>防抖： 触发高频事件后，n秒后执行一次。如果n秒内再次触发则重新计算。</p>
    <p>防抖： 靠计算器控制。</p>
  </body>
</html>
<script type="text/javascript">
  var count = 1
  var container = document.getElementById('container')
  container.innerHTML = 0

  // 事件
  function getUserAction() {
    container.innerHTML = count++
  }

  // 第一版防抖
  function debounce1(fn, time) {
    var timer = null
    return function () {
      clearTimeout(timer)
      timer = setTimeout(fn, time)
    }
  }
  // 移动触发
  container.onmousemove = debounce1(getUserAction, 500)
</script>
