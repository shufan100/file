<!DOCTYPE html>
<html>
  <head>
    <title>自定义Promise</title>
    <script src="./promise.js"></script>
  </head>
  <body></body>
</html>
<script type="text/javascript">
  // ***声明Promise函数覆盖全局Promise***
  const p = new Promise((resolve, reject) => {
    setTimeout(() => {
      resolve('ok')
      // reject('error返回值')
      // throw 'error'
    }, 1000)
  })
  // then函数的返回值也是Promise
  const resultRes = p.then(
    res => {
      console.log(res)
      // return 'hello Promise'
      // return true
      // return new Promise((resolve, reject) => {
      //   resolve('success111')
      //   // reject('error222')
      //   // throw 'fail'
      // })
    },
    err => {
      console.log(err, '---')
    }
  )
  //
  console.log(resultRes, '--111')

  // const resultErr = p.catch(err => {
  //   console.log(err, 'dsfdsfs')
  // })
  // console.log(resultErr, '--111')
</script>
