<!DOCTYPE html>
<html  >
<head>
	<meta charset="utf-8">
	<title>循环遍历</title>
</head>

<body>

</body>
</html>
<script type="text/javascript">

//******************数组循环***************************//
	

//for in 遍历对象**********************************
	let arr = [];
	let obj = {name:"侠客",age:'12',sex:"男"};
	for(const key in obj) {
		console.log(key)
		console.log(obj[key])
		let objs = {
			name:key,
			val:obj[key]
		}
		arr.push(objs)
	}
	console.log("修改对象",arr)

// for of 遍历数组**************************** 
	let arr1 = ['a','b','c'];
	for (var i = 0; i < arr1.length; i++) {
		console.log(i,arr1[i],111)
	}
	for (const item of arr1) {
		console.log("输出数组值:",item)
	}
	// 输出数组索引
	for (const item1 of arr1.keys()) {
		console.log("输出数组索引:",item1)
	}
	// 输出数组索引和值
	for (const [index,val] of arr1.entries()) {
		console.log("输出数组索引和值:",index+' '+val)
	}

// forEach 遍历数组****************************************
	let arr2 = ['a1','b2','c3'];
	arr2.forEach((val,index)=> {
		console.log(val,index)
	})
// filter(some写法一样)循环遍历数组
	let Arr = arr1.filter((x,index)=>{
		console.log(x,index)
		return x=='a'
	});
	console.log(Arr,333)
// map循环 (不会因条件中断)**************************************
		let mapArr = arr1.map( (x,index) =>{
			console.log(x,index,222)
			return x == 'b';
		})
	console.log(mapArr)


// 新增数据类型symbol ************************************
	let s = Symbol();
	console.log(typeof(s));
	function poing() {
		return 30;
	}
	console.log(poing(),"999")

// 对象转数组*******************************************
	let  json = {
	    '0': 'jspang',
	    '1': '技术胖',
	    '2': '大胖逼逼叨',
	    length:3 //必须加
	}
	let arr12=Array.from(json);
	console.log(arr12)


// 文本或变量转数组***************************************
	let arr13 = Array.of(3,4,"sjasa");
	console.log(arr13)


// fill( )实例方法：fill()也是一个实例方法，它的作用是把数组进行填充，它接收三个参数，第一个参数是填充的变量，第二个是开始填充的位置，第三个是填充到的位置。
	let arr15=[0,1,2,3,4,5,6,7,8,9];
	arr15.fill('jspang',2,6		);
	console.log(arr15);

// 严禁模式(两个参数都必须要存在)********************************************
	function adds(a,b){
		'use strict'
		return a + b;
	}
	console.log(adds(1,5))

// 伪数组*******************************************
		// 说明：伪数组不能修改长度的数组，可以修改元素
	  	fn(1,2,3,4,5,6);
	  	fn(1,2,4,5,7,9,4);

		function fn(a,b){
			  arguments[0]=0;
			  console.log(arguments);
			  console.log(arguments instanceof Array); //不是数组
			  console.log(arguments.length);//实参个数 6 7
			  console.log(fn.length);//形参个数  2 2
			  // console.log(arguments.callee);//整个函数,包括注释
		}

// demo--------------------------------------------------------------------
	
	// 另一个数组覆盖
		let List =[{val:'x1',name:"数据1"},{val:'x2',name:"数据2"},{val:'x3',name:"数据3"}];
		let List3 =[{ids:'x12',name:"数据1"},{ids:'x23',name:"数据2"},{ids:'x322',name:"数据3"}];
		for(var i in List){
			List[i].name =List3[i].ids
		}
		console.log(List)

	// 数组去重_______________________
	 	// es3去重
	 		var arr1s = [
			    {id:1,name:"zhangs",age:18,contact_id:1},
			    {id:2,name:"zhangs",age:18,contact_id:2},
			    {id:3,name:"zhangs",age:18,contact_id:3},
			    {id:3,name:"zhangs",age:18,contact_id:3},
			    {id:4,name:"zhangs",age:4444,contact_id:4},
			    {id:5,name:"zhangs",age:18,contact_id:3},
			    {id:6,name:"zhangs",age:18,contact_id:40},
			    {id:7,name:"zhangs",age:18,contact_id:40}
			];
			var result = [];
			var obj11 = {};
			for(var i =0; i<arr1s.length; i++){
			    if(!obj11[arr1s[i].age]){
			     	result.push(arr1s[i]);
			     	obj11[arr1s[i].age] = true;
			   	}
			}
			
			console.log(result,'result',obj11)

		// es6去重 只对单个元素————————————————————————————————————1
			var arr14 = ['a', 'a', 30 ,'b', 'b', 'b', 'c', 'e', 'f', 1, 2, 2, 3, 3, 3];
			let setArr14 = [...new Set(arr14)];
			console.log(setArr14)

			// es6 获取数组最大最小值————————————————————————————————————
			var arro = [0,8,3,46]
			// var max = Math.max.apply(null,arro);//46
			var max = Math.max(...arro);//46
			var min = Math.min(...arro);//46
			console.log(max,min,'max')

	// 数据转对象
		let arrs = [
			{name:2121,type:'站外'},
			{name:343,type:'站外'},
			{name:65,type:'站外'},
			{name:21,type:'电压'},
			{name:98,type:'电压'},
			{name:54,type:'站外'},
		]

		let objss = {};
		for (var i = 0; i < arrs.length; i++) {
			if (!objss[arrs[i].type]) {
	            objss[arrs[i].type] = [];
	            objss[arrs[i].type].push(arrs[i]);
	        } else {
	            objss[arrs[i].type].push(arrs[i]);
	        }
		}
		console.log(objss)

		let obj1112 = {
	        a:1,
	        b:1,
	        c:1,
	        d:{
	          	a:1
	        }
	    }
      	let oldStr = JSON.parse(JSON.stringify(obj1112)) 
      	obj1112.a = 2
    	obj1112.d.a = 2

		// let newStr = JSON.stringify(obj1112)

		console.log(oldStr,obj1112)

		let allChoosed =[
			{kid: 1,price:22,k:3},
			{kid: 2,price:22221,k:3},
		]

		let categoryPrices = allChoosed.map(item => ({
        kid: item.kid,
        price: parseFloat(item.price),
      }))
		console.log(categoryPrices)

		let arr44 = [
			{id:1,key:'a',name:'shu'},
			{id:2,key:'a',name:'shu'},
			{id:3,key:'b',name:'shu'},
			{id:4,key:'b',name:'fan'},
		]
		let obj2 = {}
		const ar = arr44.filter(i=>{
			if(!obj2[i.name]){
				obj2[i.name] = true
				return i
			}
			
		})
		// console.log(ar)


</script>