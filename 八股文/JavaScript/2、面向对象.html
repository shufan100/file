<!DOCTYPE html>
<html>
  <head>
    <title>面向对象</title>
  </head>
  <body></body>
</html>
<script type="text/javascript">
  /**面向对象
   * ---特点:封装性、继承性、多态性
   * ---特点:在面向对象程序开发思想中，每个对象都是功能中心，具有明确分工,面向对象编程具有灵活、代码可复用、容易维护和开发的优点，更适合多人合作的大型软件项目
   * ---优点1:性能比面向对象高 缺点》没面向对象易维护、易复用
   * ---优点2:易维护、复用、扩展 缺点》性能比面向过程低
   */

  class Logger {
    constructor() {
      if (!Logger.instance) {
        this.logs = []
        Logger.instance = this
      }
      return Logger.instance
    }

    log(message) {
      this.logs.push(message)
      console.log(`Logger: ${message}`)
    }

    printLogCount() {
      console.log(`Number of logs: ${this.logs.length}`)
    }
  }

  // 可以使用全局变量来访问实例
  const logger = new Logger()
  Object.freeze(logger)

  // 对于每个实例，输出应该是相同的
  logger.log('First message') // Output: Logger: First message
  logger.printLogCount() // Output: Number of logs: 1

  const anotherLogger = new Logger() // 此时返回一个已经存在的实例
  anotherLogger.log('Second message') // Output: Logger: Second message
  anotherLogger.printLogCount() // Output: Number of logs: 2
</script>
