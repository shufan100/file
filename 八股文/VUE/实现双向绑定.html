<!-- 简单数据双向绑定实现 -->
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
  </head>

  <body>
    <div id="root">
      <button id="btn">请求数据</button>
    </div>
  </body>
  <script>
    const root = document.getElementById('root')
    const btn = document.getElementById('btn')
    const input = document.createElement('input') //创建一个input
    const model = document.createElement('p') //创建一个p
    const dataModel = {
      _value: 0
    }
    Object.defineProperty(dataModel, 'value', {
      configurable: true,
      set: function (value) {
        this._value = value
        input.value = value
        model.innerHTML = ` < span > 数据模型：$ {
                    value
                } < /sapn> `
      },
      get: function () {
        return this._value
      }
    })

    btn.addEventListener('click', () => {
      const range = Math.floor(Math.random(0, 1) * 100)
      dataModel.value = range
    })

    input.addEventListener('input', ev => {
      dataModel.value = ev.target.value
    })

    const initPage = () => {
      dataModel.value = 100
      ;/ /
    }
    initPage()
    root.append(input) //将input标签添加id是root的div内
    root.append(model) //将p标签添加id是root的div内
  </script>
</html>
