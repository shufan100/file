import{l as T,s as h,aD as o,n as f}from"./index.f8dd1a1d.js";import{d}from"./isEqual.4f2dd677.js";const p=T({id:"hi-multiTags",state:()=>{var e,a;return{multiTags:(e=h.getItem("responsive-configure"))!=null&&e.multiTagsCache?h.getItem("responsive-tags"):[{path:"/welcome",parentPath:"/",meta:{title:"menus.hshome",icon:"home-filled",i18n:!0}}],multiTagsCache:(a=h.getItem("responsive-configure"))==null?void 0:a.multiTagsCache}},getters:{getMultiTagsCache(){return this.multiTagsCache}},actions:{multiTagsCacheChange(e){this.multiTagsCache=e,e?h.setItem("responsive-tags",this.multiTags):h.removeItem("responsive-tags")},tagsCache(e){this.getMultiTagsCache&&h.setItem("responsive-tags",e)},handleTags(e,a,i){var g,l;switch(e){case"equal":this.multiTags=a,this.tagsCache(this.multiTags);break;case"push":{const s=a;if(o(s==null?void 0:s.name))return;const r=s==null?void 0:s.path,c=this.multiTags.some(t=>t.path===r),n=this.multiTags.some(t=>d(t.query,s==null?void 0:s.query));if(c&&n)return;const m=(l=(g=s==null?void 0:s.meta)==null?void 0:g.dynamicLevel)!=null?l:-1;if(m>0&&this.multiTags.filter(t=>(t==null?void 0:t.path)===r).length>=m){const t=this.multiTags.findIndex(u=>(u==null?void 0:u.path)===r);t!==-1&&this.multiTags.splice(t,1)}this.multiTags.push(a),this.tagsCache(this.multiTags)}break;case"splice":if(i)this.multiTags.splice(i==null?void 0:i.startIndex,i==null?void 0:i.length);else{const s=this.multiTags.findIndex(r=>r.path===a);if(s===-1)return;this.multiTags.splice(s,1)}return this.tagsCache(this.multiTags),this.multiTags;case"slice":return this.multiTags.slice(-1)}}},persist:{enabled:!0}});function x(){return p(f)}export{p as a,x as u};
